backend:
  name: github
  repo: tavhidcom/sveltia
  branch: main
  # Для локальной разработки удобно добавить (раскомментировать при запуске npx sveltia cms proxy):
  # local_backend: true 

# ВАЖНО: Проверьте путь media_folder под ваш движок сайта (Hugo, Astro, и т.д.)
media_folder: "static/images" 
public_folder: "/images"

collections:
  - name: "pages"
    label: "Страницы"
    folder: "content/pages"
    create: true

    # Формирование пути + автосоздание папки
    path: "{{dir}}/{{slug}}"

    # slug используется ТОЛЬКО как имя файла
    slug: "{{slug}}"

    identifier_field: "slug"
    summary: "{{title}} ({{dir}}/{{slug}})"

    fields:
      # Название папки (категории)
      - label: "Папка (Категория)"
        name: "dir"
        widget: "string"
        required: false
        pattern:
          - "^[a-z0-9-]+$"
          - "Только латиница, цифры и дефис (без слэшей)"
        hint: "Например: services. Если пусто — файл будет в корне."

      # Имя файла
      - label: "Имя файла (Slug)"
        name: "slug"
        widget: "string"
        pattern:
          - "^[a-z0-9-]+$"
          - "Только латиница, цифры и дефис"
        hint: "Имя файла без .md. Итог: content/pages/папка/slug.md"

      - label: "Заголовок"
        name: "title"
        widget: "string"

      - label: "Текст"
        name: "body"
        widget: "markdown"

      - label: "Статус"
        name: "status"
        widget: "select"
        options: ["published", "draft"]
        default: "published"
